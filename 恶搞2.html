<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no" />
    <meta charset="utf-8">
    <script type="text/javascript"
        src="https://mooc1.chaoxing.com/ananas/static/js/domain.js?v=2022-1227-1713"></script>
    <script type="text/javascript" src="https://mooc1.chaoxing.com/ananas/jquery-3.5.1/jquery-3.5.1.min.js"></script>
</head>
<style>
    .attach {
        background: #F7F8FA;
        padding: 14px 16px;
        overflow: hidden;
        position: relative;
        cursor: pointer;
        user-select: none;
    }

    .attachImg {
        width: 42px;
        height: 42px;
        overflow: hidden;
        margin-right: 14px;
        display: block;
        border-radius: 4px;
        float: left !important;
    }

    .attchInfo {
        min-height: 42px;
        display: table-cell;
        vertical-align: middle;
        display: -webkit-box;
        -webkit-box-pack: center;
        -webkit-box-orient: vertical;
        display: -moz-box;
        -moz-box-pack: center;
        -moz-box-orient: vertical;
    }

    .attchInfo span {
        display: block;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    .dataName {
        font-size: 14px;
        color: #181E33;
        line-height: 20px;
    }

    .dataSize {
        line-height: 18px;
        margin-top: 4px;
        font-size: 12px;
        color: #A8A8B3;
    }
</style>

<body>
    <div class="attach" id="jokeTrigger">
        <img class="attachImg" src="https://mooc1.chaoxing.com/ananas/common-modules/attachment/icon/default.png">
        <div class="attchInfo">
            <div>
                <span class="dataName">ðŸŽ‰ ä¸€ä»½ç¤¼ç‰©.txt</span>
                <span class="dataSize">ç‚¹å‡»æŸ¥çœ‹æƒŠå–œ</span>
            </div>
        </div>
    </div>

    <!-- éšè—çš„éŸ³é¢‘ç”¨äºŽæ’­æ”¾éŸ³æ•ˆ -->
    <audio id="sfx" preload="auto">
        <source
            src="https://www.myinstants.com//media/sounds/sad-trombone-sound-effect-wah-wah-wah-fail-sound-fail-horns.mp3"
            type="audio/wav">
    </audio>
    <!-- æ–°å¢žï¼šç‚¹å‡»éŸ³æ•ˆ -->
    <audio id="clickSfx" preload="auto">
        <source src="https://www.myinstants.com//media/sounds/sad-trombone-sound-effect-wah-wah-wah-fail-sound-fail-horns.mp3" type="audio/mpeg">
    </audio>

    <!-- æ–°å¢žï¼šé¼ æ ‡ç§»åŠ¨éŸ³æ•ˆ -->
    <audio id="moveSfx" preload="auto">
        <source src="https://www.myinstants.com//media/sounds/sad-trombone-sound-effect-wah-wah-wah-fail-sound-fail-horns.mp3" type="audio/mpeg">
    </audio>
    <script>
// ä¿®æ”¹åŽçš„æ„šäººèŠ‚æ¶æžä¸»å‡½æ•°
function aprilFoolsJoke() {
    console.log('ðŸŽ­ æ¶æžå¯åŠ¨ï¼');
    
    // æ’­æ”¾æ¬¡æ•°è®¡æ•°å™¨
    let audioPlayedCount = 0;
    
    // å®‰å…¨çš„éŸ³é¢‘æ’­æ”¾å‡½æ•°ï¼Œä¼šç­‰åˆ°alertå…³é—­åŽæ’­æ”¾
    function playSoundAfterAlert() {
        // æ¯æ¬¡alertå…³é—­åŽæ’­æ”¾éŸ³é¢‘
        audioPlayedCount++;
        try {
            const sfx = document.getElementById('sfx');
            if (sfx) {
                // é‡ç½®éŸ³é¢‘å¹¶æ’­æ”¾
                sfx.currentTime = 0;
                sfx.play().catch(e => {
                    console.log('éŸ³é¢‘æ’­æ”¾å¤±è´¥:', e);
                });
            }
        } catch (e) {
            console.log('éŸ³é¢‘æ’­æ”¾é”™è¯¯:', e);
        }
    }
    
    // åˆ›å»ºä¸€ä¸ªç‰¹æ®Šç‰ˆæœ¬çš„alertï¼Œä¼šåœ¨å…³é—­æ—¶æ’­æ”¾éŸ³é¢‘
    function alertWithSound(message) {
        setTimeout(() => {
            alert(message);
            // alertå…³é—­åŽæ’­æ”¾éŸ³é¢‘
            playSoundAfterAlert();
        }, audioPlayedCount * 200); // æŒ‰é¡ºåºå»¶è¿Ÿå¼¹å‡º
    }
    
    // 1. å¼¹å‡ºä¸€ç³»åˆ—æžç¬‘å¼¹çª—ï¼ˆä¼šåœ¨æ¯ä¸ªå¼¹çª—å…³é—­åŽæ’­æ”¾éŸ³é¢‘ï¼‰
    alertWithSound('ðŸ‘€ å˜¿ï¼æˆ‘å‘çŽ°ä½ äº†ï¼');
    alertWithSound('ðŸ¤” å’¦ï¼Ÿå¥½åƒå“ªé‡Œä¸å¯¹åŠ²...');
    alertWithSound('ðŸŽ­ ä½ è¢«æ•´è›Šå•¦ï¼');
    
    setTimeout(() => {
        const jokes = [
            'ðŸ” é¸¡ä½ å¤ªç¾Žï¼',
            'ðŸš€ ä½ çš„ç”µè„‘å³å°†èµ·é£ž...',
            'ðŸ‘» æœ‰é¬¼å•Šï¼å¿«è·‘ï¼',
            'ðŸŽ® æ¸¸æˆæ—¶é—´åˆ°ï¼',
            'ðŸŒ å¤§é¦™è•‰ä¸€æ ¹å¤§é¦™è•‰~~~'
        ];
        alertWithSound(jokes[Math.floor(Math.random() * jokes.length)]);
    }, 1500);
    
    // 3. åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€Bç«™æžç¬‘è§†é¢‘
    setTimeout(() => {
        window.open('https://www.bilibili.com/video/BV1GJ411x7h7/', '_blank');
    }, 5000);
    
    // 4. å°è¯•å…¨å±ï¼ˆçŽ°åœ¨æ˜¯åœ¨ç”¨æˆ·äº¤äº’åŽè§¦å‘ï¼Œåº”è¯¥å¯ä»¥å·¥ä½œï¼‰
    setTimeout(() => {
        const elem = document.documentElement;
        if (elem.requestFullscreen) {
            elem.requestFullscreen().catch(e => {
                console.log('å…¨å±å¤±è´¥:', e);
            });
        } else if (elem.mozRequestFullScreen) { /* Firefox */
            elem.mozRequestFullScreen();
        } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
            elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) { /* IE/Edge */
            elem.msRequestFullscreen();
        }
    }, 10000);
    
    // 5. é¡µé¢æŠ–åŠ¨æ•ˆæžœ
    let shakeCount = 0;
    const shakeInterval = setInterval(() => {
        document.body.style.transform = `translate(${Math.random() * 20 - 10}px, ${Math.random() * 20 - 10}px)`;
        shakeCount++;
        if (shakeCount > 30) {
            clearInterval(shakeInterval);
            document.body.style.transform = '';
        }
    }, 50);
    
    // 6. ä¿®æ”¹é¡µé¢æ ‡é¢˜æžç¬‘å¾ªçŽ¯
    const originalTitle = document.title;
    const funnyTitles = [
        'ðŸ’ çŒ´èµ›é›·ï¼',
        'ðŸ’¥ BOOMï¼',
        'ðŸŽª é©¬æˆå›¢å¼€å¹•ï¼',
        'ðŸ‘‘ é™›ä¸‹é©¾åˆ°ï¼',
        'ðŸ¦ è™¾ä»çŒªå¿ƒï¼'
    ];
    let titleIndex = 0;
    const titleInterval = setInterval(() => {
        document.title = funnyTitles[titleIndex % funnyTitles.length];
        titleIndex++;
    }, 500);
    
    // 7. 30ç§’åŽæ¢å¤æ­£å¸¸
    setTimeout(() => {
        clearInterval(titleInterval);
        document.title = originalTitle;
        alert('ðŸŽ‰ çŽ©ç¬‘ç»“æŸï½ž');
    }, 30000);
}

// ä¿®æ”¹é¡µé¢åŠ è½½éƒ¨åˆ†ï¼Œç§»é™¤è‡ªåŠ¨æ’­æ”¾
$(function () {
    console.log('ðŸŽ­ æ¶æžç»„ä»¶å·²åŠ è½½');
    
    // ä¿®æ”¹é™„ä»¶æ˜¾ç¤ºä¸ºæ„šäººèŠ‚ä¸»é¢˜
    $(".dataName").text("ðŸŽ­ ä¸€ä»½ç¤¼ç‰©");
    $(".dataSize").text("æˆ³æˆ‘æˆ³æˆ‘~~");
    $(".attachImg").attr("src", "https://mooc1.chaoxing.com/ananas/common-modules/attachment/icon/zip.png");

    // ç»‘å®šç‚¹å‡»äº‹ä»¶
    $("#jokeTrigger").click(function (e) {
        aprilFoolsJoke();
    });

    
    setTimeout(() => {
        aprilFoolsJoke()
    }, 1000);
});
    </script>
</body>

</html>