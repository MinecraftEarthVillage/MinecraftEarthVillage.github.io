<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no" />
    <meta charset="utf-8">
    <script type="text/javascript"
        src="https://mooc1.chaoxing.com/ananas/static/js/domain.js?v=2022-1227-1713"></script>
    <script type="text/javascript" src="https://mooc1.chaoxing.com/ananas/jquery-3.5.1/jquery-3.5.1.min.js"></script>
</head>
<style>
    .attach {
        background: #F7F8FA;
        padding: 14px 16px;
        overflow: hidden;
        position: relative;
        cursor: pointer;
        user-select: none;
    }

    .attachImg {
        width: 42px;
        height: 42px;
        overflow: hidden;
        margin-right: 14px;
        display: block;
        border-radius: 4px;
        float: left !important;
    }

    .attchInfo {
        min-height: 42px;
        display: table-cell;
        vertical-align: middle;
        display: -webkit-box;
        -webkit-box-pack: center;
        -webkit-box-orient: vertical;
        display: -moz-box;
        -moz-box-pack: center;
        -moz-box-orient: vertical;
    }

    .attchInfo span {
        display: block;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    .dataName {
        font-size: 14px;
        color: #181E33;
        line-height: 20px;
    }

    .dataSize {
        line-height: 18px;
        margin-top: 4px;
        font-size: 12px;
        color: #A8A8B3;
    }
</style>

<body>
    <div class="attach" id="jokeTrigger">
        <img class="attachImg" src="https://mooc1.chaoxing.com/ananas/common-modules/attachment/icon/default.png">
        <div class="attchInfo">
            <div>
                <span class="dataName">ğŸ‰ æ„šäººèŠ‚ç‰¹åˆ«é™„ä»¶.txt</span>
                <span class="dataSize">ç‚¹å‡»æŸ¥çœ‹æƒŠå–œ</span>
            </div>
        </div>
    </div>

    <!-- éšè—çš„éŸ³é¢‘ç”¨äºæ’­æ”¾éŸ³æ•ˆ -->
    <audio id="sfx" preload="auto">
        <source
            src="https://www.myinstants.com//media/sounds/sad-trombone-sound-effect-wah-wah-wah-fail-sound-fail-horns.mp3"
            type="audio/wav">
    </audio>
    <!-- æ–°å¢ï¼šç‚¹å‡»éŸ³æ•ˆ -->
    <audio id="clickSfx" preload="auto">
        <source src="https://www.myinstants.com//media/sounds/sad-trombone-sound-effect-wah-wah-wah-fail-sound-fail-horns.mp3" type="audio/mpeg">
    </audio>

    <!-- æ–°å¢ï¼šé¼ æ ‡ç§»åŠ¨éŸ³æ•ˆ -->
    <audio id="moveSfx" preload="auto">
        <source src="https://www.myinstants.com//media/sounds/sad-trombone-sound-effect-wah-wah-wah-fail-sound-fail-horns.mp3" type="audio/mpeg">
    </audio>
    <script type="text/javascript">
        // éŸ³æ•ˆç®¡ç†å™¨
        const soundManager = {
            // éŸ³æ•ˆæ•°ç»„
            moveSounds: ['moveSfx'],
            clickSounds: ['clickSfx'],
            
            // èŠ‚æµæ§åˆ¶
            lastMoveSoundTime: 0,
            moveSoundDelay: 1000, // ç§»åŠ¨éŸ³æ•ˆæœ€å°‘é—´éš”1ç§’
            
            // æ’­æ”¾ç§»åŠ¨éŸ³æ•ˆ
            playMoveSound: function() {
                const now = Date.now();
                if (now - this.lastMoveSoundTime < this.moveSoundDelay) {
                    return;
                }
                
                this.lastMoveSoundTime = now;
                const soundId = this.moveSounds[Math.floor(Math.random() * this.moveSounds.length)];
                this.playSound(soundId, 0.3); // éŸ³é‡30%
            },
            
            // æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
            playClickSound: function() {
                const soundId = this.clickSounds[Math.floor(Math.random() * this.clickSounds.length)];
                this.playSound(soundId, 0.5); // éŸ³é‡50%
            },
            
            // æ’­æ”¾æŒ‡å®šéŸ³æ•ˆ
            playSound: function(soundId, volume = 1.0) {
                try {
                    const audio = document.getElementById(soundId);
                    if (audio) {
                        audio.volume = volume;
                        audio.currentTime = 0; // é‡ç½®åˆ°å¼€å¤´
                        audio.play().catch(e => {
                            console.log('éŸ³æ•ˆæ’­æ”¾å¤±è´¥:', soundId, e);
                        });
                    }
                } catch (e) {
                    console.log('éŸ³æ•ˆæ’­æ”¾é”™è¯¯:', e);
                }
            },
            
            // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬
            init: function() {
                // ç›‘å¬é¼ æ ‡ç§»åŠ¨äº‹ä»¶ï¼ˆå¸¦èŠ‚æµï¼‰
                let moveTimeout;
                $(document).on('mousemove', (e) => {
                    clearTimeout(moveTimeout);
                    moveTimeout = setTimeout(() => {
                        this.playMoveSound();
                    }, 50); // 50mså»¶è¿Ÿä»¥å‡å°‘è§¦å‘é¢‘ç‡
                });
                
                // ç›‘å¬ç‚¹å‡»äº‹ä»¶
                $(document).on('click', (e) => {
                    // æ’é™¤é™„ä»¶ç‚¹å‡»ï¼Œå› ä¸ºå®ƒæœ‰è‡ªå·±çš„ç‰¹æ®ŠéŸ³æ•ˆ
                    if (!$(e.target).closest('#jokeTrigger').length) {
                        this.playClickSound();
                    }
                });
                
                console.log('ğŸµ éŸ³æ•ˆç®¡ç†å™¨å·²åˆå§‹åŒ–');
            }
        };



        // æ„šäººèŠ‚æ¶æä¸»å‡½æ•°
        function aprilFoolsJoke() {
            console.log('ğŸ­ æ¶æå¯åŠ¨ï¼');

            // 1. æ’­æ”¾å¥‡æ€ªéŸ³æ•ˆ
            try {
                document.getElementById('sfx').play();
            } catch (e) {
                console.log('éŸ³æ•ˆæ’­æ”¾å¤±è´¥:', e);
            }

            // 2. å¼¹å‡ºä¸€ç³»åˆ—æç¬‘å¼¹çª—
            setTimeout(() => { alert('ğŸ‘€ å˜¿ï¼æˆ‘å‘ç°ä½ äº†ï¼'); }, 100);
            setTimeout(() => alert('ğŸ¤” å’¦ï¼Ÿå¥½åƒå“ªé‡Œä¸å¯¹åŠ²...'), 300);
            setTimeout(() => alert('ğŸ­ ä½ è¢«æ•´è›Šå•¦ï¼'), 500);
            setTimeout(() => {
                const jokes = [
                    'ğŸ” é¸¡ä½ å¤ªç¾ï¼',
                    'ğŸš€ ä½ çš„ç”µè„‘å³å°†èµ·é£...',
                    'ğŸ‘» æœ‰é¬¼å•Šï¼å¿«è·‘ï¼',
                    'ğŸ® æ¸¸æˆæ—¶é—´åˆ°ï¼',
                    'ğŸŒ å¤§é¦™è•‰ä¸€æ ¹å¤§é¦™è•‰~~~'
                ];
                alert(jokes[Math.floor(Math.random() * jokes.length)]);
            }, 1500);

            // 3. åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€Bç«™æç¬‘è§†é¢‘
            setTimeout(() => {
                window.open('https://www.bilibili.com/video/BV1GJ411x7h7/', '_blank');
            }, 5000);

            // 4. å°è¯•å…¨å±ï¼ˆéœ€è¦ç”¨æˆ·äº¤äº’ï¼Œè¿™é‡Œåœ¨ç‚¹å‡»åè§¦å‘ï¼‰
            setTimeout(() => {
                const elem = document.documentElement;
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                    elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
                    elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                    elem.msRequestFullscreen();
                }
            }, 2500);

            // 5. é¡µé¢æŠ–åŠ¨æ•ˆæœ
            let shakeCount = 0;
            const shakeInterval = setInterval(() => {
                document.body.style.transform = `translate(${Math.random() * 20 - 10}px, ${Math.random() * 20 - 10}px)`;
                shakeCount++;
                if (shakeCount > 30) {
                    clearInterval(shakeInterval);
                    document.body.style.transform = '';
                }
            }, 50);

            // 6. ä¿®æ”¹é¡µé¢æ ‡é¢˜æç¬‘å¾ªç¯
            const originalTitle = document.title;
            const funnyTitles = [
                'ğŸ’ çŒ´èµ›é›·ï¼',
                'ğŸ’¥ BOOMï¼',
                'ğŸª é©¬æˆå›¢å¼€å¹•ï¼',
                'ğŸ‘‘ é™›ä¸‹é©¾åˆ°ï¼',
                'ğŸ¦ è™¾ä»çŒªå¿ƒï¼'
            ];
            let titleIndex = 0;
            const titleInterval = setInterval(() => {
                document.title = funnyTitles[titleIndex % funnyTitles.length];
                titleIndex++;
            }, 500);

            // 7. 30ç§’åæ¢å¤æ­£å¸¸
            setTimeout(() => {
                clearInterval(titleInterval);
                document.title = originalTitle;
                alert('ğŸ‰ ç©ç¬‘ç»“æŸï½');
            }, 30000);
        }

        // é¡µé¢åŠ è½½å®Œæˆåç«‹å³å¯åŠ¨ä¸€éƒ¨åˆ†æ¶æ
        $(function () {
            console.log('ğŸ­ æ¶æç»„ä»¶å·²åŠ è½½');
            document.getElementById('sfx').play();
            // ä¿®æ”¹é™„ä»¶æ˜¾ç¤ºä¸ºæ„šäººèŠ‚ä¸»é¢˜
            $(".dataName").text("ğŸ­ ä¸€ä»½ç¤¼ç‰©");
            $(".dataSize").text("æˆ³æˆ‘æˆ³æˆ‘~~");
            $(".attachImg").attr("src", "https://mooc1.chaoxing.com/ananas/common-modules/attachment/icon/zip.png");

            // ç»‘å®šç‚¹å‡»äº‹ä»¶
            $("#jokeTrigger").click(function (e) {
                e.stopPropagation();
                aprilFoolsJoke();
            });

            // é¡µé¢åŠ è½½å1ç§’è‡ªåŠ¨å¼¹çª—æç¤º
            setTimeout(() => {
                aprilFoolsJoke()
            }, 1000)

        });
    </script>
</body>

</html>